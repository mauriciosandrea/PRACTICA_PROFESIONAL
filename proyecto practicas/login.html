<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <script
      src="https://kit.fontawesome.com/5af3a8c52c.js"
      crossorigin="anonymous"
    ></script>

    <title>Grupo San Miguel</title>
  </head>

  <body
    style="
      background-image: url(images/fondopag.png);
      background-color: hsl(205deg 76% 39%);
      background-blend-mode: color-burn;
    "
  >
    <div class="container" id="ContLogin">
      <div class="row w-100 text-center" style="position: absolute; top: 7%">
        <div class="col-12">
          <h1
            style="
              font-weight: bold;
              font-size: 3rem;
              font-family: 'Oswald', Times, serif;
            "
          >
            
          </h1>
        </div>
      </div>

      <div class="row w-100">
        <div class="col-0 col-lg-4"></div>

        <div class="col-lg-4 text-center">
          <img
            src="images/GSM-PRINCIPAL con letras blancas 2.png"
            class="img-fluid mb-5"
            alt=""
            
          />
          <input
            type="text"
            class="w-100 inputfield mt-3"
            style="background: #dee6e9"
            placeholder="Nombre de usuario o correo electrónico"
            id="email"
          />

          <div class="passcont">
            <input
              id="password"
              type="password"
              class="w-100 inputfield mt-3"
              style="background: #dee6e9"
              placeholder="Contraseña"
             
            />

            <svg           
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              class="bi bi-eye-fill showpasswordicon"
              id="show-password"
              viewBox="0 0 16 16"
              id="password_field"
            >
              <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z" />
              <path
                d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"
              />
            </svg>


          </div>

          

          <button
            type="button"
            class="btn btn-danger w-100 mt-3 p-2"
            onclick="login()"
            id="UnSkewButton"
          >
            Iniciar sesión
          </button>
          <div class="py-4">
            <a
              onclick="openModal()"
              class="MatchCardText"
              style="color: white; font-weight: 500; cursor: pointer;"
              >Olvidé mi contraseña</a
            >
          </div>
          <p
            class="mt-3"
            style="
              color: white;
              font-weight: bold;
              font-family: 'Oswald';
              font-size: 1.2rem;
            "
            id="errorMessage"
          ></p>

          <!-- MODAL -->

          <div class="resModal" id="pass_modal">
            <div class="modalBox" style="position: relative;">
              <span style="cursor: pointer; position: absolute; right: 2em;" class="mx-2" onclick="closeModal()">
                <i class="fa-solid fa-x fa-xl"></i>
              </span>
              <h3 class="font my-5"  style="
                  color: white;
                  font-weight: 600;
                  text-shadow: 0.8px 0.8px 0.8px black;
                ">
                Restablecer contraseña
              </h3>
              <input
                id="reset_input"
                class="mt-3 px-2 py-2 resetPass"
                type="email"
                placeholder="ingresa tu correo electrónico"
              />
              <span
                class="font mt-1"
                style="
                  position: absolute;
                  font-size: 0.7rem;
                  color: rgb(182, 37, 37);
                  font-weight: 600;
                "
                id="emailOK2"
              ></span>
              <div class="mt-4 pb-3 resetPass">
                <button
                  class="loginBtn"
                  
                  style="width: 100%"
                  onclick="resetModal()"
                >
                Restablecer contraseña
                </button>
              </div>
              <!-- Sucess Error Message -->
              <div
                class="mt-3 resetPass pb-3 pt-3"
                style="display: none; border-radius: 5px"
                id="infomssg"
              >
                <span
                  id="boxmssg"
                  style="color: white; height: 2em; font-weight: 600"
                  class="font"
                >
                </span>
                <span
                  id="instrucciones"
                  style="color: white; display: none; font-weight: 600"
                  class="font"
                >
                </span>
              </div>

          
        </div>

        <div class="col-0 col-lg-4"></div>
      </div>
    </div>


    <script>
      const openModal = () => {
        document.getElementById("pass_modal").style.display = "block";
      };

      const closeModal = () => {
        document.getElementById("pass_modal").style.display = "none";
        document.getElementById("reset_input").value = "";
      };

      const resetModal = () => {
        openModal();
        let email = document.getElementById("reset_input").value;
        // console.log(email);
        if (email) {
          resetPassword(email)           
        } 
      };

    </script>    
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"></script>

    <script src="Firebase.js"></script>

    <script src="index.js"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>

